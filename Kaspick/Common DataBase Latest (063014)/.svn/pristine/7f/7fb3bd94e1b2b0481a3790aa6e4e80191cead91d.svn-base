IF EXISTS (
		SELECT *
		FROM sysobjects
		WHERE type = 'P'
			AND NAME = 'USP_EX_GetTaxConditionDdl'
		)
BEGIN
	DROP PROCEDURE USP_EX_GetTaxConditionDdl;

	PRINT 'DROPPED USP_EX_GetTaxConditionDdl';
END
GO

/*********************************************************************************************************************  
* Procedure Name    : USP_EX_GetTaxConditionDdl
* Old Procedure Name    : USP_EIS_EX_TAX_CONDITION_DDLSelProc           
* Description   : To retrieve the list items to populate the dropdown list.  
* Input           : @LIST_TYPE_NAME : List type name for what the list is to be fetched.  
*                                      
* Modification log:   
  
*  
* Date   Modified BY Description  
*--------------------------------------------------------------------------------------------------------------------  
* 20-OCT-07  Chirag P Created
* 4-Apr-2014 Yugandhar EXCREQ7.4 Modofied
* 22-MAY-2014 Mallikarjun     SP Name Renamed and Formatted   
*********************************************************************************************************************/
CREATE PROCEDURE [USP_EX_GetTaxConditionDdl] (@LIST_TYPE_NAME VARCHAR(100))
AS
BEGIN
	SELECT cast(LISTITEMID AS VARCHAR(5)) + '@' + ABBREV DDVALUE
		,LISTITEMNAME DDTEXT
	FROM TBL_LISTITEM LstItm
	INNER JOIN TBL_LISTTYPE LstTyp ON LstItm.LISTTYPEID = LstTyp.LISTTYPEID
	WHERE LOWER(LISTTYPENAME) = LOWER(@LIST_TYPE_NAME)
	ORDER BY LISTITEMNAME
END
GO

IF EXISTS (
		SELECT *
		FROM sysobjects
		WHERE type = 'P'
			AND NAME = 'USP_EX_GetTaxConditionDdl'
		)
BEGIN
	PRINT 'CREATED PROCEDURE USP_EX_GetTaxConditionDdl';
END