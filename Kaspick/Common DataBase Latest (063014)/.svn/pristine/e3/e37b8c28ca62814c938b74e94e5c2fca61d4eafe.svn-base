IF EXISTS (
		SELECT *
		FROM sysobjects
		WHERE type = 'P'
			AND NAME = 'USP_EX_GetSysadminCgasetupVal'
		)
BEGIN
	DROP PROCEDURE USP_EX_GetSysadminCgasetupVal;

	PRINT 'DROPPED PROCEDURE USP_EX_GetSysadminCgasetupVal';
END
GO

SET QUOTED_IDENTIFIER ON
GO

/*********************************************************************************************************************            
* New Procedure Name : USP_EX_GetSysadminCgasetupVal
* Old Procedure Name  : [USP_EIS_EX_SYSADMIN_CGASETUP_VALSelProc]            
* Description     : To CHECK whether CGASETUP RULE already exist            
* Input           :               
*                                        
* Modification Log            
*                                        
* Date       Created By  Description                                                        
*--------------------------------------------------------------------------------------------------------------------            
* 12-Mar-07  Venugopal.B   Created.  
* 18-May-06  Venugopal B  Delete_Flag is removed                
* 09-Apr-14  Sanath      EXCREQ 3.1
* 22-MAY-2014 Mallikarjun     SP Name Renamed and Formatted
*********************************************************************************************************************/
CREATE PROCEDURE [dbo].[USP_EX_GetSysadminCgasetupVal] (
	@STATEID INT
	,@RETVAL INT OUTPUT
	)
AS
BEGIN
	SET @RETVAL = 0

	IF EXISTS (
			SELECT *
			FROM TBL_BR_CGASetup
			WHERE STATE_TYPE_ID = @STATEID
			)
	BEGIN
		SET @RETVAL = 1

		PRINT 'CGASETUP RULE FOR THE SELECTED ALREADY EXISTS'

		RETURN (- 1)
	END
END
GO

IF EXISTS (
		SELECT *
		FROM sysobjects
		WHERE type = 'P'
			AND NAME = 'USP_EX_GetSysadminCgasetupVal'
		)
BEGIN
	PRINT 'CREATED PROCEDURE USP_EX_GetSysadminCgasetupVal';
END