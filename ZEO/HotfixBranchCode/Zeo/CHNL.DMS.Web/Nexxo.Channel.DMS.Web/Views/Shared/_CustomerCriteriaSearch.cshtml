@model MGI.Channel.DMS.Web.Models.CustomerSearch
@{
    string disableClass = string.Empty;
    bool isAdminRole = (Convert.ToInt32(HttpContext.Current.Session["UserRoleId"]) == (int)UserRoles.SystemAdmin);
    bool isTerminalSetup = false;
    if (Session["IsTerminalSetup"] != null) {
        isTerminalSetup = Session["IsTerminalSetup"].ToString() == "1" ? true : false;
    }

    if (!isTerminalSetup && !isAdminRole) {
        disableClass = "disable_txt";         
        <div class="field-validation-error"> Terminal not set up, Please contact administrator </div>
    }
}
@using (Html.BeginForm("CustomerSearch", "CustomerSearch", FormMethod.Post, new { @class = "cust_critical_search" }))
{
    <div class="cust_search_head">
        <hgroup>
			<h1> Enter search criteria (at least two): </h1>
		</hgroup>
    </div>
    <div class="report_wrap">
        <div class="row">
            <div>
                @Html.LabelFor(model => model.LastName, new { @class = "label_txt" })
                @Html.TextBoxFor(model => model.LastName, new { @class = "input_box srch_crit_txt" + disableClass, @maxlength = "30", @title = @MGI.Channel.DMS.Web.App_GlobalResources.Nexxo.Tooltip_LastName })
            </div>
            <div class="valid_error">
                @Html.ValidationMessageFor(model => model.LastName)
            </div>
        </div>
        <div class="row">
            <div>
                @Html.LabelFor(model => model.PhoneNumber, new { @class = "label_txt" })
                @Html.TextBoxFor(model => model.PhoneNumber, new { @class = "input_box srch_crit_txt" + disableClass, @placeholder = "###-###-####" })
            </div>
            <div class="valid_error">
                @Html.ValidationMessageFor(model => model.PhoneNumber)
            </div>
        </div>
        <div class="row">
            <div>
                @Html.LabelFor(model => model.DateOfBirth, new { @class = "label_txt" })
                @Html.TextBoxFor(model => model.DateOfBirth, new { @class = "input_box srch_crit_txt" + disableClass, id = "DateOfBirth", @placeholder = "MM/DD/YYYY" })
            </div>
            <div class="valid_error">
                @Html.ValidationMessageFor(model => model.DateOfBirth)
            </div>
        </div>
        <div class="row">
            <div>
                @Html.LabelFor(model => model.GovernmentId, new { @class = "label_txt" })
                @Html.TextBoxFor(model => model.GovernmentId, new { @class = "input_box srch_crit_txt" + disableClass, @maxlength = "20", @title = @MGI.Channel.DMS.Web.App_GlobalResources.Nexxo.Tooltip_IDNumber })
            </div>
            <div class="valid_error">
                @Html.ValidationMessageFor(model => model.GovernmentId)
            </div>
        </div>
        <div class="row">
            <div>
                @Html.LabelFor(model => model.SSN, new { @class = "label_txt" })
                @Html.TextBoxFor(model => model.SSN, new { @class = "input_box srch_crit_txt" + disableClass, @placeholder = "###-##-####" })
            </div>
            <div class="valid_error">
                @Html.ValidationMessageFor(model => model.SSN)
            </div>
                <div class="row">
                    <div>
            @Html.LabelFor(model => model.IsIncludeClosed, new { @class = "label_txt" })
            @Html.CheckBoxFor(model => model.IsIncludeClosed, new { @checked = "checked" }) 
                    </div></div>
            @Html.HiddenFor(model => model.SearchType, new { Value = "criteria" })
        </div>
        <div class="float_right">
            <ul class="find_btn">
                <li>
                    <input type="submit" value="@MGI.Channel.DMS.Web.App_GlobalResources.Nexxo.SearchButtonText" class="@disableClass" id="criteriaSubmit"/>
                </li>
            </ul>
        </div>
    </div>
	
}
