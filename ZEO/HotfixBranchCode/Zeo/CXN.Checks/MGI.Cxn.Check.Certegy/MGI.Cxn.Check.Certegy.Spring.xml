<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:db="http://www.springframework.net/database"
  xsi:schemaLocation="http://www.springframework.net http://www.springframework.net/xsd/spring-objects.xsd">

	<import resource="assembly://MGI.Cxn.Check.Certegy/MGI.Cxn.Check.Certegy/MGI.Cxn.Check.Certegy.Db.Spring.xml"/>
	<import resource="assembly://MGI.Common/MGI.Common/MGICommon.xml" />

	<object id="CxnCheckCertegyProcessor" type="MGI.Cxn.Check.Certegy.Impl.Gateway, MGI.Cxn.Check.Certegy">
		<property name="TransactionRepo" ref="CertegyTransactionRepo" />
		<property name="AccountRepo" ref="CertegyAccountRepo" />
		<property name="CheckTypeMappingRepo" ref="CertegyCheckTypeMappingRepo" />
		<property name="CredentialRepo" ref="CertegyCredentialRepo" />
		<property name="ImageRepo" ref="CertegyImageRepo" />		
		<property name="IO" ref="CertegyIO"/>
		<property name="MongoDBLogger" ref="TLoggerRef"/>
	</object>

	<object id="CertegyTransactionRepo" type="MGI.Common.DataAccess.Impl.NHibRepository&lt;MGI.Cxn.Check.Certegy.Data.Transaction&gt;, MGI.Common.DataAccess">
		<property name="SessionFactory" ref="SessionFactoryCxnCertegy"></property>
	</object>

	<object id="CertegyAccountRepo" type="MGI.Common.DataAccess.Impl.NHibRepository&lt;MGI.Cxn.Check.Certegy.Data.Account&gt;, MGI.Common.DataAccess">
		<property name="SessionFactory" ref="SessionFactoryCxnCertegy"></property>
	</object>
	
	<object id="CertegyCheckTypeMappingRepo" type="MGI.Common.DataAccess.Impl.NHibRepository&lt;MGI.Cxn.Check.Certegy.Data.CheckTypeMapping&gt;, MGI.Common.DataAccess">
		<property name="SessionFactory" ref="SessionFactoryCxnCertegy"></property>
	</object>

	<object id="CertegyCredentialRepo" type="MGI.Common.DataAccess.Impl.NHibRepository&lt;MGI.Cxn.Check.Certegy.Data.Credential&gt;, MGI.Common.DataAccess">
		<property name="SessionFactory" ref="SessionFactoryCxnCertegy"></property>
	</object>

	<object id="CertegyImageRepo" type="MGI.Common.DataAccess.Impl.NHibRepository&lt;MGI.Cxn.Check.Certegy.Data.CheckImage&gt;, MGI.Common.DataAccess">
		<property name="SessionFactory" ref="SessionFactoryCxnCertegy"></property>
	</object>
	
	<object id="CertegyIO" type ="MGI.Cxn.Check.Certegy.Impl.${ProviderIO}, MGI.Cxn.Check.Certegy">
		<property name="MongoDBLogger" ref="TLoggerRef"/>
	</object>
	
</objects>