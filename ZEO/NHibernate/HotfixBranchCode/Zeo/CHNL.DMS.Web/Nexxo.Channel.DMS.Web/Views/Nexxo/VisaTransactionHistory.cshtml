@model MGI.Channel.DMS.Web.Models.VisaTransactionHistory
@{
	ViewBag.Title = MGI.Channel.DMS.Web.App_GlobalResources.Nexxo.CustomerTransactionHistory;

}
<link href="@Url.Content("~/Content/css/Common/jquery-ui.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/jquery-grid/ui.jqgrid.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/jquery-ui/redmond/jquery-ui-1.9.2.custom.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/Common/lib/jquery-grid/grid.locale-en.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Common/lib/jquery-grid/jquery.jqGrid.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Common/lib/spin.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Fund/VisaTransactionHistory.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Fund/Visa.js")" type="text/javascript"></script>
<script type="text/javascript">
	var transactionStatus = '@Session["transactionStatus"]';

	$(document).ready(function () {
		var accountStatus = '@Model.IsAccountClosed';
		if (accountStatus.toLocaleLowerCase() == 'true') {
			$('#cardbtn').removeAttr("onclick");
		}
		var jqDataUrl = '@Url.Action("GetTransactionHistory", "VISAProductCredential", new { sessionId = @Model.customerSession.CustomerSessionId })';
		LoadTransactionHistoryGrid(jqDataUrl);
	});

</script>
@*Adding this css as it is applicable to this grid alone*@
<style>
	.ui-jqgrid th {
		border-right: solid 1px #9DA1B3 !important;
	}
</style>
@using (Html.BeginForm("VisaTransactionHistory", "VISAProductCredential", FormMethod.Post))
{
	<div class="trans_his_wrap">
		<div>
			@Html.Partial("_partialVisaTransactionHistoryTitleBar", Model)
		</div>
	
		<br />
		<div class="trans_head">
			<div class="trans_column">
				@Html.LabelFor(model => model.TransactionStatus)
				@Html.DropDownListFor(model => model.TransactionStatus, Model.TransactionStatuss, new { @class = "trans_input" })
			</div>
			<div class="trans_column">
				@Html.LabelFor(model => model.DateRange)
				@Html.DropDownListFor(model => model.DateRange, Model.DateRanges, new { @class = "trans_input trans_date" })
			</div>
			<div class="trans_top_clear visa_submit_btn" style="margin-left:180px">
				<div class="cust_trans_search_btn">
					<ul>
						<li>
							<input type="submit" id="map" value="Search" />
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	@Html.Partial("_partialSpinner")
	@Html.HiddenFor(model => model.IsAccountClosed)
	@Html.HiddenFor(model => model.DaysSinceClosed)
	@Html.HiddenFor(model => model.CardBalance)
	@Html.HiddenFor(model => model.DisableMaintenance)

	<div class="trans_head">
		<ul class="page_head product_head trans_head">
			<li>Last Days of Transactions </li>
		</ul>
	</div>
}
<div id="griddiv" class="trans_grid_tab_wrap">
	<div id="divJqTable" class="trans_grid_tab">
		<table id="jqTable1" class=""></table>
		<div id="jqTablePager" />
	</div>
</div>
<div>
	&nbsp;
</div>
