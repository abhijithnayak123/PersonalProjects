<objects xmlns="http://www.springframework.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:db="http://www.springframework.net/database"
   xmlns:tx="http://www.springframework.net/tx"
   xsi:schemaLocation="http://www.springframework.net http://www.springframework.net/xsd/spring-objects.xsd">

	<object id="transactionManager"
		type="Spring.Data.Core.TxScopeTransactionManager, Spring.Data">
		<property name="TransactionSynchronization" value="Always"/>
	</object>
	<tx:attribute-driven/>

  <object type="Spring.Objects.Factory.Config.VariablePlaceholderConfigurer, Spring.Core">
    <property name="VariableSources">
      <list>
        <object type="Spring.Objects.Factory.Config.ConnectionStringsVariableSource, Spring.Core"/>
        <object type="Spring.Objects.Factory.Config.ConfigSectionVariableSource, Spring.Core">
          <property name="SectionNames" value="appSettings">
          </property>
        </object>
      </list>
    </property>
  </object>

	<!--Enable below to use real IO-->
	<import resource="assembly://MGI.Cxn.Fund.Visa/MGI.Cxn.Fund.Visa/MGI.Cxn.Fund.Visa.Spring.xml"/>
	
	<!--Enable below to use mocked IO-->
	<!--<object name="MockFactory" type="MGI.Cxn.Fund.Visa.Test.MockFactory, MGI.Cxn.Fund.Visa.Test">
	</object>

	<object id="CxnFundsVisaProcessor" type="MGI.Cxn.Fund.Visa.Impl.Gateway, MGI.Cxn.Fund.Visa">
		<property name="TransactionRepo" ref="VisaTransactionRepo" />
		<property name="AccountRepo" ref="VisaAccountRepo" />
		<property name="CredentialRepo" ref="VisaCredentialRepo" />
		<property name="ShippingFeeRepo" ref="ShippingFeeRepo" />
		<property name="CardClassRepo" ref="CardClassRepo" />
		<property name="IO" ref="VisaIO"/>
		<property name="DataProtectionService" ref="CXNFundsDataProtection${DataProtectionService}"/>
	</object>

	<object id="VisaTransactionRepo" factory-object="MockFactory" factory-method="CreateInstanceOfVisaTransaction" ></object>

	<object id="VisaAccountRepo" factory-object="MockFactory" factory-method="CreateInstanceOfVisaAccountRepo"></object>

	<object id="ShippingFeeRepo" factory-object="MockFactory" factory-method="CreateInstanceOfShippingFeeRepo" ></object>

	<object id="CardClassRepo" factory-object="MockFactory" factory-method="CreateInstanceOfCardClassRepo"></object>

	<object name="VisaIO" factory-object="MockFactory" factory-method="CreateInstanceIIO"></object>

	<object id="VisaCredentialRepo" factory-object="MockFactory" factory-method="CreateInstanceOfVisaCredentialRepo"></object>
	
	<object id="CXNFundsDataProtectionSimulator" factory-object="MockFactory" factory-method="CreateInstanceOfDataProtection"></object>
	
	<object id="CXNFundsDataProtectionService" factory-object="MockFactory" factory-method="CreateInstanceOfDataProtection"></object>-->

</objects>